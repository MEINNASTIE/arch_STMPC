import{r as d,j as e,T as i,M as y}from"./index-BPmqxCZA.js";import{M as f}from"./MainCard-CApj6tRy.js";import{F as v,I as j,S as b,T as w}from"./TextField-CECNM3ti.js";import"./CardContent-D-3OObZh.js";const M=()=>{const[u,h]=d.useState(null);if(d.useEffect(()=>{fetch("https://localhost/config").then(r=>{if(!r.ok)throw new Error("Network response was not ok");return r.json()}).then(r=>h(r)).catch(r=>console.error("Error fetching the data:",r))},[]),!u)return e.jsx(i,{variant:"h6",children:"Loading..."});const{payload:x}=u,{common:g,groups:p}=x,m=(r,a,t,o)=>{h(l=>{const s={...l};return s.payload.groups[r].pages[a].fields[t].val.new=o,s})},n=p.find(r=>r.label==="Settings");return n?e.jsxs(f,{title:"Dynamic Configuration",style:{textAlign:"center"},children:[e.jsx(i,{variant:"h4",gutterBottom:!0,children:n.label}),n.pages.map((r,a)=>e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(i,{variant:"h6",children:r.label}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:r.fields.map((t,o)=>{var l;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs(i,{style:{minWidth:"150px"},children:[t.label,":"]}),t.type==="select"?e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(j,{children:t.label}),e.jsx(b,{value:((l=t.val)==null?void 0:l.new)||"",onChange:s=>m(p.indexOf(n),a,o,s.target.value),children:(()=>{if(Array.isArray(t.options))return t.options;if(typeof t.options=="string"&&t.options.startsWith("$ref:")){const s=t.options.split(":")[1],c=g.optionLists[s];return Array.isArray(c)?c:(console.error(`Invalid or missing reference: ${s}`),[])}return console.error(`Invalid options format for field: ${t.label}`),[]})().map((s,c)=>e.jsx(y,{value:s.value,children:s.label},c))})]}):e.jsx(w,{variant:"outlined",size:"small",value:t.val?JSON.stringify(t.val.new):"",onChange:s=>m(p.indexOf(n),a,o,s.target.value)})]},o)})})]},a))]}):e.jsx(i,{variant:"h6",children:"No settings group found."})};export{M as default};
