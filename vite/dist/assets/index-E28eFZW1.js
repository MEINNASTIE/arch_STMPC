import{b as W,a as H,s as L,m as ae,_ as c,n as K,r as I,c as O,o as se,j as r,d as N,f as P,e as V,k as A,h as te,u as Q,T as U,S as ne,P as le,G as g}from"./index-Gb68BUe8.js";import{c as ce,a as _,b as ie,d as de,u as ue,B as pe}from"./index.esm-BIt2dC3I.js";import{a as me}from"./axios-DeWKon_u.js";import{T as D}from"./TextField-xqCz_KTY.js";import{u as X,f as he}from"./OutlinedInput-BVhtJECE.js";function be(e){return W("PrivateSwitchBase",e)}H("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const xe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],fe=e=>{const{classes:o,checked:a,disabled:n,edge:t}=e,s={root:["root",a&&"checked",n&&"disabled",t&&`edge${P(t)}`],input:["input"]};return V(s,be,o)},Ce=L(ae)(({ownerState:e})=>c({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),ge=L("input",{shouldForwardProp:K})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ke=I.forwardRef(function(o,a){const{autoFocus:n,checked:t,checkedIcon:s,className:l,defaultChecked:d,disabled:h,disableFocusRipple:i=!1,edge:y=!1,icon:$,id:k,inputProps:j,inputRef:R,name:B,onBlur:u,onChange:b,onFocus:p,readOnly:q,required:M=!1,tabIndex:w,type:x,value:F}=o,f=O(o,xe),[v,Y]=se({controlled:t,default:!!d,name:"SwitchBase",state:"checked"}),C=X(),Z=m=>{p&&p(m),C&&C.onFocus&&C.onFocus(m)},ee=m=>{u&&u(m),C&&C.onBlur&&C.onBlur(m)},oe=m=>{if(m.nativeEvent.defaultPrevented)return;const J=m.target.checked;Y(J),b&&b(m,J)};let S=h;C&&typeof S>"u"&&(S=C.disabled);const re=x==="checkbox"||x==="radio",T=c({},o,{checked:v,disabled:S,disableFocusRipple:i,edge:y}),G=fe(T);return r.jsxs(Ce,c({component:"span",className:N(G.root,l),centerRipple:!0,focusRipple:!i,disabled:S,tabIndex:null,role:void 0,onFocus:Z,onBlur:ee,ownerState:T,ref:a},f,{children:[r.jsx(ge,c({autoFocus:n,checked:t,defaultChecked:d,className:G.input,disabled:S,id:re?k:void 0,name:B,onChange:oe,readOnly:q,ref:R,required:M,ownerState:T,tabIndex:w,type:x},x==="checkbox"&&F===void 0?{}:{value:F},j)),v?s:$]}))}),ve=A(r.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Pe=A(r.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),ye=A(r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function je(e){return W("MuiCheckbox",e)}const E=H("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Be=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Fe=e=>{const{classes:o,indeterminate:a,color:n,size:t}=e,s={root:["root",a&&"indeterminate",`color${P(n)}`,`size${P(t)}`]},l=V(s,je,o);return c({},o,l)},Ie=L(ke,{shouldForwardProp:e=>K(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,a.indeterminate&&o.indeterminate,o[`size${P(a.size)}`],a.color!=="default"&&o[`color${P(a.color)}`]]}})(({theme:e,ownerState:o})=>c({color:(e.vars||e).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${o.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[o.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:te(o.color==="default"?e.palette.action.active:e.palette[o.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.color!=="default"&&{[`&.${E.checked}, &.${E.indeterminate}`]:{color:(e.vars||e).palette[o.color].main},[`&.${E.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),$e=r.jsx(Pe,{}),Re=r.jsx(ve,{}),we=r.jsx(ye,{}),Se=I.forwardRef(function(o,a){var n,t;const s=Q({props:o,name:"MuiCheckbox"}),{checkedIcon:l=$e,color:d="primary",icon:h=Re,indeterminate:i=!1,indeterminateIcon:y=we,inputProps:$,size:k="medium",className:j}=s,R=O(s,Be),B=i?y:h,u=i?y:l,b=c({},s,{color:d,indeterminate:i,size:k}),p=Fe(b);return r.jsx(Ie,c({type:"checkbox",inputProps:c({"data-indeterminate":i},$),icon:I.cloneElement(B,{fontSize:(n=B.props.fontSize)!=null?n:k}),checkedIcon:I.cloneElement(u,{fontSize:(t=u.props.fontSize)!=null?t:k}),ownerState:b,ref:a,className:N(p.root,j)},R,{classes:p}))});function ze(e){return W("MuiFormControlLabel",e)}const z=H("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Le=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],qe=e=>{const{classes:o,disabled:a,labelPlacement:n,error:t,required:s}=e,l={root:["root",a&&"disabled",`labelPlacement${P(n)}`,t&&"error",s&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",t&&"error"]};return V(l,ze,o)},De=L("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[{[`& .${z.label}`]:o.label},o.root,o[`labelPlacement${P(a.labelPlacement)}`]]}})(({theme:e,ownerState:o})=>c({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${z.disabled}`]:{cursor:"default"}},o.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},o.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},o.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${z.label}`]:{[`&.${z.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Ne=L("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,o)=>o.asterisk})(({theme:e})=>({[`&.${z.error}`]:{color:(e.vars||e).palette.error.main}})),Ue=I.forwardRef(function(o,a){var n,t;const s=Q({props:o,name:"MuiFormControlLabel"}),{className:l,componentsProps:d={},control:h,disabled:i,disableTypography:y,label:$,labelPlacement:k="end",required:j,slotProps:R={}}=s,B=O(s,Le),u=X(),b=(n=i??h.props.disabled)!=null?n:u==null?void 0:u.disabled,p=j??h.props.required,q={disabled:b,required:p};["checked","name","onChange","value","inputRef"].forEach(v=>{typeof h.props[v]>"u"&&typeof s[v]<"u"&&(q[v]=s[v])});const M=he({props:s,muiFormControl:u,states:["error"]}),w=c({},s,{disabled:b,labelPlacement:k,required:p,error:M.error}),x=qe(w),F=(t=R.typography)!=null?t:d.typography;let f=$;return f!=null&&f.type!==U&&!y&&(f=r.jsx(U,c({component:"span"},F,{className:N(x.label,F==null?void 0:F.className),children:f}))),r.jsxs(De,c({className:N(x.root,l),ownerState:w,ref:a},B,{children:[I.cloneElement(h,q),p?r.jsxs(ne,{display:"block",children:[f,r.jsxs(Ne,{ownerState:w,"aria-hidden":!0,className:x.asterisk,children:["â€‰","*"]})]}):f]}))}),Me=ce({username:_().required("Username is required"),password:_().required("Password is required"),rolename:_().required("Role name is required"),expDate:ie().required("Expiration date is required").nullable(),enabled:de()}),Oe=()=>{const e=ue({initialValues:{username:"",password:"",rolename:"",expDate:null,enabled:!1},validationSchema:Me,onSubmit:async(o,{setErrors:a,setStatus:n})=>{var t,s;try{const l={username:o.username,password:o.password,rolename:o.rolename,expDate:o.expDate,enabled:o.enabled===!0},d=await me.post("https://localhost/api/user",l);d.status===201?(n({success:!0}),console.log("User created successfully:",d.data),e.resetForm()):a({submit:"Failed to create user"})}catch(l){a({submit:((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.message)||"An error occurred"})}}});return r.jsxs(le,{elevation:3,style:{padding:20,maxWidth:400,margin:"auto"},children:[r.jsx(U,{variant:"h5",gutterBottom:!0,children:"Create New User"}),r.jsx("form",{onSubmit:e.handleSubmit,children:r.jsxs(g,{container:!0,spacing:2,children:[r.jsx(g,{item:!0,xs:12,children:r.jsx(D,{fullWidth:!0,label:"Username",name:"username",value:e.values.username,onChange:e.handleChange,error:e.touched.username&&!!e.errors.username,helperText:e.touched.username&&e.errors.username})}),r.jsx(g,{item:!0,xs:12,children:r.jsx(D,{fullWidth:!0,label:"Password",name:"password",type:"password",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&!!e.errors.password,helperText:e.touched.password&&e.errors.password})}),r.jsx(g,{item:!0,xs:12,children:r.jsx(D,{fullWidth:!0,label:"Role Name",name:"rolename",value:e.values.rolename,onChange:e.handleChange,error:e.touched.rolename&&!!e.errors.rolename,helperText:e.touched.rolename&&e.errors.rolename})}),r.jsx(g,{item:!0,xs:12,children:r.jsx(D,{fullWidth:!0,label:"Expiration Date",name:"expDate",type:"date",value:e.values.expDate?e.values.expDate.split("T")[0]:"",onChange:e.handleChange,error:e.touched.expDate&&!!e.errors.expDate,helperText:e.touched.expDate&&e.errors.expDate,InputLabelProps:{shrink:!0}})}),r.jsx(g,{item:!0,xs:12,children:r.jsx(Ue,{control:r.jsx(Se,{name:"enabled",color:"primary",checked:e.values.enabled,onChange:e.handleChange}),label:"Enabled"})}),e.errors.submit&&r.jsx(g,{item:!0,xs:12,children:r.jsx(U,{color:"error",children:e.errors.submit})}),r.jsx(g,{item:!0,xs:12,children:r.jsx(pe,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Create User"})})]})})]})};export{Oe as default};
