import{r as d,j as r,T as i,M as f}from"./index-Gb68BUe8.js";import{M as y}from"./MainCard-DUccPNT0.js";import{F as v,I as j}from"./OutlinedInput-BVhtJECE.js";import{S as b,T as w}from"./TextField-xqCz_KTY.js";import"./CardContent-BhvQdBGq.js";const D=()=>{const[u,h]=d.useState(null);if(d.useEffect(()=>{fetch("https://localhost/config").then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>h(e)).catch(e=>console.error("Error fetching the data:",e))},[]),!u)return r.jsx(i,{variant:"h6",children:"Loading..."});const{payload:x}=u,{common:g,groups:p}=x,m=(e,a,t,o)=>{h(l=>{const s={...l};return s.payload.groups[e].pages[a].fields[t].val.new=o,s})},n=p.find(e=>e.label==="Settings");return n?r.jsxs(y,{title:"Dynamic Configuration",style:{textAlign:"center"},children:[r.jsx(i,{variant:"h4",gutterBottom:!0,children:n.label}),n.pages.map((e,a)=>r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx(i,{variant:"h6",children:e.label}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:e.fields.map((t,o)=>{var l;return r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[r.jsxs(i,{style:{minWidth:"150px"},children:[t.label,":"]}),t.type==="select"?r.jsxs(v,{fullWidth:!0,size:"small",children:[r.jsx(j,{children:t.label}),r.jsx(b,{value:((l=t.val)==null?void 0:l.new)||"",onChange:s=>m(p.indexOf(n),a,o,s.target.value),children:(()=>{if(Array.isArray(t.options))return t.options;if(typeof t.options=="string"&&t.options.startsWith("$ref:")){const s=t.options.split(":")[1],c=g.optionLists[s];return Array.isArray(c)?c:(console.error(`Invalid or missing reference: ${s}`),[])}return console.error(`Invalid options format for field: ${t.label}`),[]})().map((s,c)=>r.jsx(f,{value:s.value,children:s.label},c))})]}):r.jsx(w,{variant:"outlined",size:"small",value:t.val?JSON.stringify(t.val.new):"",onChange:s=>m(p.indexOf(n),a,o,s.target.value)})]},o)})})]},a))]}):r.jsx(i,{variant:"h6",children:"No settings group found."})};export{D as default};
